<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AITools Pro v4.0</title>
  <link rel="stylesheet" href="styles-new.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="logo-container">
        <img src="icons/iconv2.svg" alt="AITools" class="logo-img">
      </div>
      <div class="header-controls">
        <button id="disableAllBtn" class="icon-btn" title="DÃ©sactiver tout">âŠ˜</button>
        <button id="darkModeBtn" class="icon-btn" title="Mode sombre">ğŸŒ™</button>
        <button id="toggleExtension" class="icon-btn active" title="Activer/DÃ©sactiver">âœ“</button>
      </div>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="nav">
    <button class="nav-btn active" data-tab="quick">âš¡</button>
    <button class="nav-btn" data-tab="google">ğŸ”</button>
    <button class="nav-btn" data-tab="buttons">ğŸ”˜</button>
    <button class="nav-btn" data-tab="tools">ğŸ› ï¸</button>
    <button class="nav-btn" data-tab="ai">ğŸ§ </button>
    <button class="nav-btn" data-tab="settings">âš™ï¸</button>
  </nav>

  <!-- Content -->
  <main class="content">
    <!-- Quick Tools Tab -->
    <section class="tab active" id="quick">
      <h2>AccÃ¨s rapide</h2>
      
      <div class="btn-group">
        <button id="whatsappBtn" class="btn btn-green" title="WhatsApp">ğŸ’¬ WhatsApp</button>
        <button id="chatgptBtn" class="btn btn-blue" title="ChatGPT">ğŸ¤– ChatGPT</button>
      </div>

      <div class="section">
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="checkbox" id="darkModeToggle" title="Activer le mode sombre global">
          <span>Mode sombre</span>
        </label>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 8px;">
          <input type="checkbox" id="blockSponsored" title="Bloquer les rÃ©sultats sponsorisÃ©s">
          <span>Sans publicitÃ©s</span>
        </label>
      </div>
    </section>

    <!-- Google Tools Tab -->
    <section class="tab" id="google">
      <h2>Google AvancÃ©</h2>
      
      <div class="section">
        <input 
          type="text" 
          id="googleSearchInput" 
          placeholder="ğŸ” Cherchez..." 
          class="input-field"
        >
      </div>

      <div class="section">
        <p class="label">CatÃ©gories:</p>
        <div class="categories">
          <button class="category-badge" data-category="orthographe">âœï¸ Ortho</button>
          <button class="category-badge" data-category="wiki">ğŸ“– Wiki</button>
          <button class="category-badge" data-category="trends">ğŸ“ˆ Tendances</button>
          <button class="category-badge" data-category="news">ğŸ“° ActualitÃ©s</button>
          <button class="category-badge" data-category="images">ğŸ¨ Images</button>
          <button class="category-badge" data-category="videos">ğŸ¬ VidÃ©os</button>
        </div>
      </div>

      <div class="section">
        <p class="label" style="margin-bottom: 12px;">ğŸ”˜ Boutons de recherche:</p>
        
        <!-- Visibility Controls -->
        <p style="font-size: 11px; color: #666; margin-bottom: 6px;">VisibilitÃ©:</p>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 4px;">
          <input type="checkbox" id="googleButtonLucky" checked>
          <span>ğŸ€ Chance</span>
        </label>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 4px;">
          <input type="checkbox" id="googleButtonFilters" checked>
          <span>ğŸ” Filtres</span>
        </label>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 4px;">
          <input type="checkbox" id="googleButtonMaps" checked>
          <span>ğŸ—ºï¸ Maps</span>
        </label>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 4px;">
          <input type="checkbox" id="googleButtonChatGPT" checked>
          <span>ğŸ¤– ChatGPT</span>
        </label>
        
        <!-- Customization Section -->
        <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #e0e0e0;">
          <p style="font-size: 11px; color: #666; margin: 0 0 10px 0;">Personnaliser:</p>
          
          <select id="googleButtonCustomizeSelect" style="width: 100%; padding: 6px; margin-bottom: 10px; font-size: 11px; border: 1px solid #ccc; border-radius: 4px;">
            <option value="">SÃ©lectionner un bouton...</option>
            <option value="lucky">ğŸ€ Chance</option>
            <option value="filters">ğŸ” Filtres</option>
            <option value="maps">ğŸ—ºï¸ Maps</option>
            <option value="chatgpt">ğŸ¤– ChatGPT</option>
          </select>
          
          <div id="googleButtonCustomizeView" style="display: none;">
            <!-- Label Input -->
            <div style="margin-bottom: 8px;">
              <label style="display: block; font-size: 11px; color: #666; margin-bottom: 4px;">Ã‰tiquette:</label>
              <input type="text" id="googleButtonCustomizeLabel" placeholder="p.ex: ğŸ€ Chance" style="width: 100%; padding: 6px; font-size: 11px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">
            </div>
            
            <!-- Color Picker -->
            <div style="margin-bottom: 8px;">
              <label style="display: block; font-size: 11px; color: #666; margin-bottom: 4px;">Couleur:</label>
              <input type="color" id="googleButtonCustomizeColor" value="#5f6368" style="width: 100%; height: 28px; border: 1px solid #ccc; border-radius: 4px; cursor: pointer;">
            </div>
            
            <!-- Action Dropdown -->
            <div style="margin-bottom: 8px;">
              <label style="display: block; font-size: 11px; color: #666; margin-bottom: 4px;">Action:</label>
              <select id="googleButtonCustomizeAction" style="width: 100%; padding: 6px; font-size: 11px; border: 1px solid #ccc; border-radius: 4px;">
                <option value="lucky">Google Chance (I'm Feeling Lucky)</option>
                <option value="maps">Google Maps</option>
                <option value="chatgpt">ChatGPT</option>
                <option value="filters">Filtres avancÃ©s (alerte)</option>
              </select>
            </div>
            
            <!-- Reset Button -->
            <button id="googleButtonCustomizeReset" style="width: 100%; padding: 6px; font-size: 11px; background: #f0f0f0; border: 1px solid #ccc; border-radius: 4px; cursor: pointer; color: #666;">â†» RÃ©initialiser</button>
          </div>
        </div>
      </div>

      <div class="section">
        <p class="label">OpÃ©rateurs avancÃ©s:</p>
        <button id="filterMenuBtn" class="btn btn-sm">ğŸ“Š Filtres</button>
      </div>
    </section>

    <!-- Buttons Management Tab -->
    <section class="tab" id="buttons">
      <h2>GÃ©rer les boutons</h2>
      
      <!-- Google Search Buttons -->
      <div class="section">
        <p class="label">ğŸ” Boutons Google Search:</p>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="checkbox" id="googleButtonsVisible" checked class="button-toggle" data-button-type="googleButtons">
          <span>Afficher les boutons</span>
        </label>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">Lucky â€¢ Filtres â€¢ Maps â€¢ ChatGPT</p>
      </div>

      <!-- Summarizer Button -->
      <div class="section">
        <p class="label">âœ‚ï¸ Bouton RÃ©sumÃ©:</p>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="checkbox" id="summarizerButtonVisible" checked class="button-toggle" data-button-type="summarizerButton">
          <span>Afficher le bouton rÃ©sumÃ©</span>
        </label>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">RÃ©sume automatiquement le contenu de la page</p>
      </div>

      <!-- AI Detector Badge -->
      <div class="section">
        <p class="label">âš ï¸ Badge DÃ©tecteur IA:</p>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="checkbox" id="aiDetectorBadgeVisible" checked class="button-toggle" data-button-type="aiDetectorBadge">
          <span>Afficher le badge IA</span>
        </label>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">DÃ©tecte le contenu gÃ©nÃ©rÃ© par IA</p>
      </div>

      <!-- Translation Buttons -->
      <div class="section">
        <p class="label">ğŸŒ Boutons Traduction:</p>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="checkbox" id="translationButtonsVisible" checked class="button-toggle" data-button-type="translationButtons">
          <span>Afficher les boutons traduction</span>
        </label>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">Traduit les paragraphes dans d'autres langues</p>
      </div>

      <!-- Quick Stats Widget -->
      <div class="section">
        <p class="label">ğŸ“Š Widget Statistiques:</p>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="checkbox" id="quickStatsWidgetVisible" checked class="button-toggle" data-button-type="quickStatsWidget">
          <span>Afficher le widget stats</span>
        </label>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">Affiche les stats de la page (liens, images, etc.)</p>
      </div>

      <!-- Reading Time Badge -->
      <div class="section">
        <p class="label">â° Badge Temps de lecture:</p>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="checkbox" id="readingTimeBadgeVisible" checked class="button-toggle" data-button-type="readingTimeBadge">
          <span>Afficher le badge temps</span>
        </label>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">Estime le temps de lecture de la page</p>
      </div>

      <!-- Manage Positions -->
      <div class="section" style="margin-top: 16px; padding-top: 16px; border-top: 1px solid #e0e0e0;">
        <p class="label">ğŸ¯ GÃ©rer les positions:</p>
        <button id="resetAllButtonPositionsBtn" class="btn btn-sm" style="width: 100%;">â†º RÃ©initialiser toutes positions</button>
        <p style="font-size: 10px; color: #999; margin-top: 6px;">Remet tous les boutons Ã  leur position par dÃ©faut</p>
      </div>

      <!-- Help -->
      <div class="section" style="margin-top: 12px; padding: 10px; background: #f0f7ff; border-left: 3px solid #667eea; border-radius: 4px;">
        <p style="font-size: 11px; color: #333; margin: 0;">
          ğŸ’¡ <strong>Astuce:</strong> Vous pouvez dÃ©placer les boutons en les glissant sur n'importe quelle page. Les positions sont sauvegardÃ©es automatiquement.
        </p>
      </div>
    </section>

    <!-- Tools Tab -->
    <section class="tab" id="tools">
      <h2>Outils avancÃ©s</h2>
      
      <div class="section">
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="checkbox" id="pomodoroToggle">
          <span>â±ï¸ Pomodoro (25min)</span>
        </label>
        <div id="pomodoroStatus" style="font-size: 12px; color: #999; margin-top: 4px; display: none;"></div>
      </div>

      <div class="section">
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="checkbox" id="tabCleanerToggle">
          <span>ğŸ—‚ï¸ Nettoyer les onglets</span>
        </label>
      </div>

      <div class="section">
        <button id="notesViewBtn" class="btn btn-sm">ğŸ“ Mes notes</button>
        <button id="summarizeBtn" class="btn btn-sm" style="margin-top: 8px;">âœ‚ï¸ RÃ©sumer page</button>
        <button id="clearNotesBtn" class="btn btn-sm btn-danger" style="margin-top: 8px;">ğŸ—‘ï¸ Effacer notes</button>
      </div>
    </section>

    <!-- AI Tools Tab -->
    <section class="tab" id="ai">
      <h2>Outils IA</h2>
      
      <div class="section">
        <button id="aiDetectorBtn" class="btn btn-sm" style="width: 100%;">ğŸ¤– DÃ©tecteur IA</button>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">Analyse si un texte est gÃ©nÃ©rÃ© par IA</p>
      </div>

      <div class="section">
        <button id="translatorBtn" class="btn btn-sm" style="width: 100%;">ğŸŒ Traducteur</button>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">Traduire du texte</p>
      </div>

      <div class="section">
        <button id="paletteBtn" class="btn btn-sm" style="width: 100%;">ğŸ¨ Palette couleur</button>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">GÃ©nÃ©rer des palettes</p>
      </div>

      <div class="section">
        <button id="youtubeBtn" class="btn btn-sm" style="width: 100%;">â–¶ï¸ YouTube Enhancer</button>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">Features YouTube premium</p>
      </div>

      <div class="section">
        <button id="pdfBtn" class="btn btn-sm" style="width: 100%;">ğŸ“„ PDF Tools</button>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">Extraire texte des PDF</p>
      </div>
    </section>

    <!-- Settings Tab -->
    <section class="tab" id="settings">
      <h2>ParamÃ¨tres</h2>
      
      <div class="section">
        <p class="label" style="margin-bottom: 8px;">ğŸ§  Outils IA:</p>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="checkbox" id="aiDetectorEnabled" checked>
          <span>DÃ©tecteur IA automatique</span>
        </label>
        <div style="margin-left: 24px; margin-top: 6px; font-size: 11px;">
          <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
            <input type="range" id="aiDetectorSensitivity" min="40" max="90" value="60" style="width: 100px;">
            <span>SensibilitÃ©: <span id="aiSensValue">60</span>%</span>
          </label>
        </div>
        
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 6px;">
          <input type="checkbox" id="summarizerEnabled" checked>
          <span>RÃ©sumeur de page</span>
        </label>
        <div style="margin-left: 24px; margin-top: 6px; font-size: 11px;">
          <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
            <input type="range" id="summarizerLength" min="20" max="60" value="35" style="width: 100px;">
            <span>Longueur: <span id="sumLenValue">35</span>%</span>
          </label>
          <label style="display: flex; align-items: center; gap: 6px; cursor: pointer; margin-top: 8px;">
            <span>Langue:</span>
            <select id="summarizerLang" style="padding: 4px 6px; font-size: 11px;">
              <option value="fr">FranÃ§ais</option>
              <option value="en">Anglais</option>
              <option value="es">Espagnol</option>
              <option value="de">Allemand</option>
              <option value="it">Italien</option>
              <option value="pt">Portugais</option>
              <option value="ja">Japonais</option>
              <option value="zh">Chinois</option>
            </select>
          </label>
        </div>
        
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 6px;">
          <input type="checkbox" id="autoTranslatorEnabled" checked>
          <span>ğŸŒ Traducteur automatique</span>
        </label>
        <div style="margin-left: 24px; margin-top: 6px; font-size: 11px;">
          <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
            <span>Langue cible:</span>
            <select id="translatorTargetLang" style="padding: 4px 6px; font-size: 11px;">
              <option value="fr">FranÃ§ais</option>
              <option value="en">Anglais</option>
              <option value="es">Espagnol</option>
              <option value="de">Allemand</option>
              <option value="it">Italien</option>
              <option value="pt">Portugais</option>
              <option value="ja">Japonais</option>
              <option value="zh">Chinois</option>
            </select>
          </label>
        </div>
        
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 6px;">
          <input type="checkbox" id="translatorEnabled" checked>
          <span>Traducteur</span>
        </label>
        
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 6px;">
          <input type="checkbox" id="cookieBlockerEnabled" checked>
          <span>ğŸª Fermer popups cookies</span>
        </label>
        
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 6px;">
          <input type="checkbox" id="readingTimeEnabled" checked>
          <span>ğŸ“– Temps de lecture</span>
        </label>
        
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 6px;">
          <input type="checkbox" id="quickStatsEnabled" checked>
          <span>ğŸ“Š Stats page</span>
        </label>
        
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 6px;">
          <input type="checkbox" id="youtubeEnabled" checked>
          <span>YouTube Enhancer</span>
        </label>
        
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 6px;">
          <input type="checkbox" id="paletteEnabled" checked>
          <span>GÃ©nÃ©rateur palette</span>
        </label>
      </div>
      
      <div class="section">
        <p class="label" style="margin-bottom: 8px;">âš™ï¸ Autres:</p>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="checkbox" id="readingTimeToggle" checked>
          <span>â° Temps de lecture</span>
        </label>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 6px;">
          <input type="checkbox" id="currencyConverterToggle">
          <span>ğŸ’± Convertisseur devises</span>
        </label>
        <div style="margin-top: 12px;">
          <label style="display: block; margin-bottom: 6px; font-size: 12px; font-weight: 600; color: #666;">ğŸ†• Page nouvelle fenetre:</label>
          <select id="newtabUrlPreset" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 4px; font-size: 11px; margin-bottom: 6px;">
            <option value="google">ğŸ”µ Google</option>
            <option value="bing">ğŸ”¹ Bing</option>
            <option value="qwant">ğŸ”´ Qwant</option>
            <option value="duckduckgo">ğŸ¦† DuckDuckGo</option>
            <option value="startpage">ğŸ”’ StartPage</option>
            <option value="yahoo">ğŸŸ¡ Yahoo</option>
            <option value="ecosia">ğŸŒ± Ecosia</option>
            <option value="custom">âš™ï¸ Personnalisee</option>
          </select>
          <input type="text" id="newtabUrlCustom" placeholder="https://example.com" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 4px; font-size: 11px; display: none;">
        </div>
      </div>

      <div class="section">
        <p class="label" style="margin-bottom: 8px;">â±ï¸ Performance:</p>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="checkbox" id="performanceModeEnabled" checked>
          <span>Mode performance (rÃ©duit utilisation)ï¸</span>
        </label>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">DÃ©sactive les fonctionnalitÃ©s lourdes et dÃ©lai les initialisations</p>
      </div>

      <div class="section">
        <p class="label" style="margin-bottom: 8px;">ğŸ¯ RÃ©initialiser positions:</p>
        <button id="resetPositionsBtn" class="btn btn-sm" style="width: 100%;">â†º RÃ©initialiser positions</button>
        <p style="font-size: 10px; color: #999; margin-top: 4px;">RÃ©affiche tous les boutons Ã  leur position par dÃ©faut</p>
      </div>

      <div class="section">
        <button id="exportDataBtn" class="btn btn-sm">ğŸ“¥ Exporter donnÃ©es</button>
        <button id="resetBtn" class="btn btn-sm btn-danger" style="margin-top: 8px;">ğŸ”„ RÃ©initialiser tout</button>
      </div>

      <div class="footer">
        <p>AITools Pro v4.0</p>
      </div>
    </section>
  </main>

  <!-- Filter Modal -->
  <div id="filterModal" class="modal hidden">
    <div class="modal-content">
      <h3>OpÃ©rateurs de recherche</h3>
      <div class="filters-grid">
        <button class="filter-item" data-operator="intitle:" data-label="Mot dans titre">ğŸ“Œ Titre</button>
        <button class="filter-item" data-operator="inurl:" data-label="Mot dans URL">ğŸ”— URL</button>
        <button class="filter-item" data-operator='site:' data-label="Sur un site">ğŸŒ Site</button>
        <button class="filter-item" data-operator='filetype:' data-label="Type fichier">ğŸ“„ Type</button>
        <button class="filter-item" data-operator="after:" data-label="AprÃ¨s date">ğŸ“… AprÃ¨s</button>
        <button class="filter-item" data-operator="before:" data-label="Avant date">ğŸ“… Avant</button>
        <button class="filter-item" data-operator='related:' data-label="Sites similaires">ğŸ”€ Similaires</button>
        <button class="filter-item" data-operator='"' data-label="Recherche exacte">ğŸ’¬ Exact</button>
      </div>
      <button id="closeFilterBtn" class="btn btn-sm" style="margin-top: 12px; width: 100%;">Fermer</button>
    </div>
  </div>

  <!-- Notes Modal -->
  <div id="notesModal" class="modal hidden">
    <div class="modal-content">
      <h3>ğŸ“ Mes notes</h3>
      <div id="notesList" style="max-height: 300px; overflow-y: auto; margin-bottom: 12px;"></div>
      <button id="closeNotesBtn" class="btn btn-sm" style="width: 100%;">Fermer</button>
    </div>
  </div>

  <script src="popup-new.js"></script>
</body>
</html>
